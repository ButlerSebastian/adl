{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "ADL",
  "scopeName": "source.adl",
  "fileTypes": [
    "adl"
  ],
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#keywords"
    },
{
      "include": "#workflow-edge-relations"
    },
    {
      "include": "#policy-keywords"
    },
    {
      "include": "#enforcement-properties"
    },
    {
      "include": "#enforcement-modes"
    },
    {
      "include": "#enforcement-actions"
    },
    {
      "include": "#rego-keywords"
    },
    {
      "include": "#primitive-types"
    },
    {
      "include": "#boolean-literals"
    },
    {
      "include": "#identifiers"
    },
    {
      "include": "#numeric-literals"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#structural-symbols"
    }
  ],
  "repository": {
    "comments": {
      "name": "comment.line.hash.adl",
      "match": "#.*$"
    },
    "keywords": {
      "name": "keyword.control.adl",
      "match": "\\b(import|enum|type|agent|as|module|export|validation)\\b"
    },
    "primitive-types": {
      "name": "storage.type.primitive.adl",
      "match": "\\b(string|integer|number|boolean|object|array|any|null)\\b"
    },
    "boolean-literals": {
      "name": "constant.language.boolean.adl",
      "match": "\\b(true|false)\\b"
    },
    "identifiers": {
      "name": "entity.name.function.adl",
      "match": "\\b[a-zA-Z_][a-zA-Z0-9_-]*\\b"
    },
    "numeric-literals": {
      "patterns": [
        {
          "name": "constant.numeric.integer.adl",
          "match": "\\b-?[0-9]+\\b"
        },
        {
          "name": "constant.numeric.float.adl",
          "match": "\\b-?[0-9]+\\.[0-9]+\\b"
        },
        {
          "name": "constant.numeric.scientific.adl",
          "match": "\\b-?[0-9]+(\\.[0-9]+)?[eE][+-]?[0-9]+\\b"
        }
      ]
    },
    "strings": {
      "name": "string.quoted.double.adl",
      "begin": "\"",
      "end": "\"",
      "patterns": [
        {
          "name": "constant.character.escape.adl",
          "match": "\\\\."
        }
      ]
    },
    "structural-symbols": {
      "patterns": [
        {
          "name": "punctuation.definition.bracket.curly.begin.adl",
          "match": "\\{"
        },
        {
          "name": "punctuation.definition.bracket.curly.end.adl",
          "match": "\\}"
        },
        {
          "name": "punctuation.definition.bracket.square.begin.adl",
          "match": "\\["
        },
        {
          "name": "punctuation.definition.bracket.square.end.adl",
          "match": "\\]"
        },
        {
          "name": "punctuation.definition.bracket.round.begin.adl",
          "match": "\\("
        },
        {
          "name": "punctuation.definition.bracket.round.end.adl",
          "match": "\\)"
        },
        {
          "name": "punctuation.separator.colon.adl",
          "match": ":"
        },
        {
          "name": "punctuation.separator.comma.adl",
          "match": ","
        },
        {
          "name": "punctuation.separator.question.adl",
          "match": "\\?"
        },
        {
          "name": "punctuation.separator.pipe.adl",
          "match": "\\|"
        },
        {
          "name": "punctuation.separator.dot.adl",
          "match": "\\."
        },
        {
          "name": "punctuation.separator.slash.adl",
          "match": "/"
        }
      ]
    },
    "workflow-keywords": {
      "name": "keyword.control.adl.workflow",
      "match": "\\b(workflow|nodes|edges|schedule|metadata)\\b"
    },
    "workflow-node-keywords": {
      "name": "keyword.control.adl.workflow.node",
      "match": "\\b(id|type|label|config|position|metadata)\\b"
    },
    "workflow-edge-keywords": {
      "name": "keyword.control.adl.workflow.edge",
      "match": "\\b(id|source|target|relation|condition|metadata)\\b"
    },
    "workflow-node-types": {
      "name": "storage.type.adl.workflow.node",
      "match": "\\b(trigger|input|transform|action|condition|loop|output|sub-workflow|annotation)\\b"
    },
"workflow-edge-relations": {
      "name": "storage.type.adl.workflow.edge",
      "match": "\\b(data-flow|control-flow|error-flow|ai_languageModel|ai_tool|dependency)\\b"
    },
    "policy-keywords": {
      "name": "keyword.control.adl.policy",
      "match": "\\b(policy|rego|enforcement|data|metadata)\\b"
    },
    "enforcement-properties": {
      "name": "keyword.control.adl.policy.enforcement",
      "match": "\\b(mode|action|audit_log)\\b"
    },
    "enforcement-modes": {
      "name": "constant.language.adl.policy.mode",
      "match": "\\b(strict|moderate|lenient)\\b"
    },
    "enforcement-actions": {
      "name": "constant.language.adl.policy.action",
      "match": "\\b(deny|warn|log|allow)\\b"
    },
    "rego-keywords": {
      "name": "keyword.control.adl.rego",
      "match": "\\b(package|default|allow|deny|if|with|input|data)\\b"
    }
  }
}
